<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knowledge Bench</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #ffffff;
            color: #333;
            line-height: 1.6;
        }

        header {
            position: relative;
            text-align: center;
            padding: 50px 20px;
        }

        header .logo {
            width: 500px;
            height: auto;
            padding-top: 150px; /* Added padding-top */
        }

        header h1 {
            font-size: 3rem;
            margin: 20px 0 10px;
        }

        header p {
            font-size: 1.3rem;
            color: #555;
            padding-bottom: 300px;
        }

        .github-icon {
            position: absolute;
            top: 20px;
            right: 20px;
        }

        .github-icon img {
            width: 32px;
            height: 32px;
            cursor: pointer;
        }

        .buttons {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            padding-bottom: 100px;
        }

        .buttons button {
            background-color: transparent;
            border: none;
            color: black;
            padding: 10px 20px;
            margin: 0 10px;
            cursor: pointer;
            font-size: 1rem;
        }

        .buttons button.active {
            background-color: black;
            color: white;
            border: none;
        }

        table {
            width: 90%;
            margin: 0 auto;
            border-collapse: collapse;
            margin-bottom: 50px;
            table-layout: fixed; /* Add this */
            background-color: transparent;
        }

        table th, table td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
        }

        table th {
            background-color: transparent; /* Set background to transparent */
            font-weight: bold;
        }

        table th:first-child, table td:first-child {
            border-left: none;
            width: 150px;
            font-weight: bold;
        }

        /* Add these new rules */
        table th:not(:first-child), 
        table td:not(:first-child) {
            width: calc((100% - 150px) / 2); /* Distribute remaining width equally */
        }

        table th:last-child, table td:last-child {
            border-right: none; /* Remove right border */
        }

        table tr:first-child th {
            border-top: none; /* Remove top border */
        }

        table tr:last-child td {
            border-bottom: none; /* Remove bottom border */
        }

        #benchmark-results-fibonacci {
            padding-bottom: 300px;
        }

        /* Add this new rule for all benchmark result containers */
        #benchmark-results > div {
            margin-bottom: 100px;
        }

        #documentation {
            width: 90%;
            margin: 0 auto;
            text-align: justify;
            padding-bottom: 50px;
        }

        #documentation h2,
        #documentation p,
        #documentation ul {
            margin-left: 0;
            padding-left: 0;
            text-align: justify;
        }

        #documentation ul {
            margin: 0;
            padding-left: 20px; /* Add padding to align bullets with content */
            list-style-type: disc; /* Use default bullet points */
        }

        /* Remove the custom dash prefix */
        #documentation ul li::before {
            content: none;
        }

        .chainway-icon {
            position: absolute;
            top: 20px;
            right: 80px; /* Position it to the left of GitHub icon */
        }
        .chainway-icon img {
            width: 32px;
            height: 32px;
        }
    </style>
</head>
<body>
    <header>
        <div class="github-icon">
            <a href="https://github.com/zkvmbenchmarks/zkvm_benchmarking_project" target="_blank">
                <img src="https://cdn-icons-png.flaticon.com/512/25/25231.png" alt="GitHub">
            </a>
        </div>
        <div class="chainway-icon">
            <a href="https://chainway.xyz/" target="_blank">
                <img src="images/chainway_logo.jpeg" alt="Chainway">
            </a>
        </div>
        <img class="logo" src="images/stoic_man" alt="Knowledge Bench Logo">
        <h1>Knowledge Bench</h1>
        <p>Open-Source Zero Knowledge Virtual Machine Benchmarks</p>
    </header>

    <div class="buttons">
        <button class="active" onclick="showMetric('Proving time')">Proving time</button>
        <button onclick="showMetric('Total cycles')">Total cycles</button>
        <button onclick="showMetric('Peak memory consumption')">Peak memory consumption</button>
        <button onclick="showMetric('Proof size')">Proof size</button>
        <button onclick="showMetric('Verification time')">Verification time</button>
        <button onclick="showMetric('Memory leak')">Memory leak</button>
        <button onclick="showMetric('Power consumption')">Power consumption</button>
    </div>

    <div id="benchmark-results">
        <!-- Tables will be generated dynamically -->
    </div>

    <div id="documentation">
        <h2>About</h2>
        <p style="text-indent: 30px;">
            This website shows the results from benchmarks of the zkVMs RISC Zero, SP1 and Valida. This is a final project by three Koc University students, done in collaboration with Chainway Labs. In the making of this project, we tried to make our code as robust and accurate as possible, but there probably still are some injustices or inefficiencies in the measurements or the picking of tests. We don't claim that our results represent the absolute objective truth, so they should be taken with caution.
        </p>
        <h2>What is a zkVM</h2>
        <p style="text-indent: 30px;">
            A zkVM (Zero-Knowledge Virtual Machine) is a virtual machine that executes smart contracts or computations using zero-knowledge proofs (ZKPs). These proofs allow the zkVM to verify the correctness of computations without revealing the actual data involved in those computations. The key idea behind a zkVM is to enable private computation, where the inputs and outputs of a computation can remain hidden, while still proving that the computation was performed correctly.
        </p>
        <p style="text-indent: 30px;">       
            In the context of blockchain or decentralized systems, zkVMs are often used to enhance privacy and scalability. By leveraging ZKPs, a zkVM can execute transactions or smart contracts off-chain and provide a proof of correctness that can be verified on-chain, reducing the amount of data that needs to be stored and transmitted on the blockchain. This can significantly improve the efficiency and privacy of decentralized applications.
        </p>
        <h2>What is a Cycle</h2>
        <p style="text-indent: 30px;">       
            In the context of zkVMs, a cycle refers to one iteration of execution within the virtual machine's operational framework. It represents a discrete step during which the zkVM processes a set of instructions, evaluates constraints, or performs cryptographic operations. During each cycle, the zkVM executes one or more instructions from the program being run. Each cycle contributes to the construction of a zero-knowledge proof by defining which operations and constraints are included in the proof for the program's execution.
        </p>
        <p style="text-indent: 30px;">       
            The cycle count matters because the number of cycles required to execute a program directly impacts the zkVM's performance and the cost of generating/verifying the proof. zkVMs aim to minimize the number of cycles (and their computational overhead) to handle large-scale computations efficiently.
        </p>
        <h2>Aim of this Project</h2>
        <ul>
            <li><b>Informing developers about which zkVM to pick:</b> Different zkVMs may perform differently in memory consumption, execution time and other metrics. A developer needs to know about the advantages and disadvantages of zkVMs in these metrics to pick the right zkVM to use for their use case. We try to address this need by showcasing our results in a simple and understandable way.</li>
            <li><b>Allowing zkVM developers to test their product:</b> As it is in any competitive market, it is important to be able to compare your product with the popular products currently in the market, and see how your product performs in different metrics. To meet this demand, our source code are open source, and is coded to be as extensible as possible, so that any zkVM developer can add their own zkVMs and tests to use our benchmarking system.</li>
        </ul>
        <h2>Benchmarking Methodology</h2>
        <p style="text-indent: 30px;">    
            We used Docker containers to isolate the environment to prevent any compatibility issues. The current version of the project is aimed to benchmark zkVMs that can execute Rust codes. The tests are dynamically written inside the zkVM projects during benchmarking to not interfere with the zkVMs process, and try to simulate a real-life use case. The metrics are measured using Rust packages and linux tools, then the results are collected and cleaned.
        </p>
    </div>

    <script>
        let benchmarkData = null;

        // Load the data when page loads
        fetch('data.json')
            .then(response => response.json())
            .then(data => {
                benchmarkData = data;
                // Show initial metric
                showMetric('Proving time');
            });

        function createBenchmarkTable(category, data) {
            return `
                <div id="benchmark-results-${category}">
                    <table>
                        <thead>
                            <tr>
                                <th></th>
                                <th>RISC0</th>
                                <th>SP1</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${Object.entries(data).map(([test, results]) => `
                                <tr>
                                    <td>${test}</td>
                                    <td>${results.risc0}</td>
                                    <td>${results.sp1}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        function showMetric(metric) {
            // Update active button
            const buttons = document.querySelectorAll('.buttons button');
            buttons.forEach(button => button.classList.remove('active'));
            const activeButton = Array.from(buttons).find(btn => btn.textContent === metric);
            if (activeButton) activeButton.classList.add('active');
            
            if (benchmarkData) {
                const metricKey = metric.toLowerCase().replace(/ /g, '_');
                const resultsContainer = document.getElementById('benchmark-results');
                
                // Clear existing tables
                resultsContainer.innerHTML = '';
                
                // Create tables for each category
                const metricData = benchmarkData[metricKey];
                Object.entries(metricData).forEach(([category, categoryData]) => {
                    resultsContainer.innerHTML += createBenchmarkTable(category, categoryData);
                });
            }
        }
    </script>
</body>
</html>
